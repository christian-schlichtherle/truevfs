<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>NZip - a Comprehensive Utility Main Class</title>
        <meta name="Author" content="Christian Schlichtherle"/>
    </head>
    <body>
        <p>In case you need a utility for easy working with archive files,
            see the class <code>de.schlichtherle.io.samples.NZip</code>.
            This is a comprehensive utility which allows you to work with
            entries in any archive file recognized by TrueZIP
            (<code>ZIP</code>, <code>TAR</code>, <code>TAR.GZ</code>,
            <code>TAR.BZ2</code> and derivates) using Unix like commands
            (<code>cat</code>, <code>cp</code>, <code>mv</code>,
            <code>rm</code>, <code>mkdir</code>, <code>mkdirs</code>,
            <code>ls</code>, <code>ll</code>, <code>llr</code>,
            <code>touch</code> etc.).
            You may use this utility to conveniently copy entire directory
            trees into an archive file or from an archive file or even
            within an archive file.
        </p>
        <table>
            <thead>
                <tr>
                    <th>Command</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <code>java -jar truezip-6.8.1.jar ll truezip-6.8.1.jar</code>
                    </td>
                    <td>
                        Prints a detailed listing of the contents of the
                        root directory of the JAR file from which the tool
                        is actually running.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>java -jar truezip-6.8.1.jar cp classes project.jar</code>
                    </td>
                    <td>
                        Copies the entire class directory tree into the
                        newly created JAR file <code>project.jar</code>.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>java -jar truezip-6.8.1.jar llr project.jar</code>
                    </td>
                    <td>
                        Prints a recursive long listing of the contents
                        in <code>project.jar</code>.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>java -jar truezip-6.8.1.jar cp project.jar/de/schlichtherle/io/samples/NZip.class archive.zip</code>
                    </td>
                    <td>
                        Copies the entry <code>de/schlichtherle/io/samples/NZip.class</code>
                        from the distribution JAR into the ZIP file
                        <code>archive.zip</code>.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>java -jar truezip-6.8.1.jar rm project.jar/de/schlichtherle/io/samples/NZip.class</code>
                    </td>
                    <td>
                        Removes the entry <code>de/schlichtherle/io/samples/NZip.class</code> from
                        <code>project.jar</code>.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>java -jar truezip-6.8.1.jar mkdir archive.zip/dir.zip</code>
                    </td>
                    <td>
                        Creates the new ZIP file <code>"dir.zip"</code>
                        in the existing ZIP file <code>"archive.zip"</code>.
                        Remember that this API treats archive files like
                        directories,
                        so you can simply create a ZIP file by calling
                        the <code>mkdir()</code> method on a File
                        object.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>java -jar truezip-6.8.1.jar mkdirs archive.zip/a/b.zip/c/d.zip</code>
                    </td>
                    <td>
                        Creates the new directory <code>"a"</code>
                        containing the new ZIP file <code>"b.zip"</code>,
                        containing the new directory <code>"c"</code>
                        containing the new ZIP file <code>"d.zip"</code>
                        within the existing <code>"archive.zip"</code>.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>java -jar truezip-6.8.1.jar rm archive.zip/a/b.zip/c/d.zip</code>
                    </td>
                    <td>
                        Removes the empty ZIP file <code>d.zip</code>.
                        Note that similar to regular directories,
                        this succeeds on empty ZIP files only.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>java -jar truezip-6.8.1.jar touch archive.zip</code>
                    </td>
                    <td>
                        Updates the last modification time of the
                        existing ZIP file <code>"archive.zip"</code>
                        to the current time.
                        Note that if the given file does not exist,
                        it is created as a plain file - you cannot
                        create ZIP files using this method
                        (use <code>mkdir</code> instead).
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>java -jar truezip-6.8.1.jar mv archive.zip/NZip.class .</code>
                    </td>
                    <td>
                        Moves the entry <code>NZip.class</code> from
                        the ZIP file <code>archive.zip</code> to the
                        current directory.
                    </td>
                </tr>
            </tbody>
        </table>
        <p>
            <b>Note:</b> Although TrueZIP has been designed to provide
            optimum performance, the <code>NZip</code> utility is a
            <i>feature showcase</i> which does <b><i>not</i></b> serve as
            a <i>performance benchmark</i>:
            The utility uses some optional archive drivers which are not
            normally used but provide extra safety and extra features at
            the price of performance, such as <code>CRC-32</code> checking,
            scanning <code>".exe"</code> files for self extracting ZIP
            files, etc.
            Furthermore, the start time of a JVM makes Java almost
            useless for short running command line utilities anyway.
        </p>
        <p>
            Of course, you can substitute the <code>.zip</code> suffix
            with any other archive file type suffix known to TrueZIP
            (<code>.jar</code>, <code>.war</code>, <code>.ear</code>,
            <code>.tar</code>, <code>.tar.gz</code>, <code>.tgz</code>,
            <code>.tar.bz2</code>, <code>.tzp</code>, <code>.zip.rae</code>,
            <code>.zip.raes</code>).
            E.g. if you would like to use RAES encrypted ZIP files simply
            substitute <code>.zip</code> with <code>.tzp</code>
            (for TrueZIP) or <code>.zip.rae</code> (for RAES encrypted
            ZIP file) and make sure that Bouncy Castle's Lightweight
            Crypto API for JDK 1.4 Version 1.30 or higher is in your class
            path (check for <code>bcprov-jdk14-145</code> at
            <a href="http://www.bouncycastle.org/latest_releases.html">http://www.bouncycastle.org/latest_releases.html</a>).
            As an example, in order to copy all source code to an RAES
            encrypted ZIP file <code>safe.tzp</code>, you could enter:
        </p>
        <p><code>java -cp "truezip-6.8.1.jar;bcprov-jdk14-145.jar" nzip cp src safe.tzp</code> (on Windows)</p>
        <p><code>java -cp "truezip-6.8.1.jar:bcprov-jdk14-145.jar" nzip cp src safe.tzp</code> (on Unix and Mac OS X)</p>
        <p>
            If you would like to use the <code>nzip</code> utility as a
            command line application, you should create a convenient batch
            script named <code>nzip</code> which removes the need to type
            <code>"java -jar &lt;path to truezip-6.8.1.jar&gt;"</code> all
            the time (not included in this distribution).
        </p>
        <p>
            <b>Note:</b> there are two more main classes which may be
            interesting:
        </p>
        <ul>
            <li>
                <b>Encrypt:</b> Encrypts the plain text of an arbitrary
                file and saves the cipher text to an RAES format file.
            </li>
            <li>
                <b>Decrypt:</b> Decrypts the cipher text of an RAES format
                file and saves the plain text to an arbitrary file.
            </li>
        </ul>
    </body>
</html>